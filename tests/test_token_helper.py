import base64
import json
from token_helper import parse_jwt_header

def test_parse_jwt_header():
    # Create a sample JWT header
    print(f"Testing parse_jwt_header function")
    
    fake_jwt = "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJmaWxlX3NoYSI6IjI4OTk1ZDRjMjY3M2YyMWE1N2JiMjJlYjI3YjQxYjg1ZTM2ZDc0ODI0OTEzNGVjYTlkNzE0NmE1YWI1ZDQ4NWYiLCJmaWxlX25hbWUiOiIzZThhZjA3Yy02ZDRhLTQ0OGItOTk2ZS03OTRlOWNiMDg0OTYuemlwIiwiaW5zdGFsbGF0aW9uX2lkIjoiNDRhYWM3ODItZTBmNy00MThmLTk1NGItODU5YjAwODEzMWQxIiwiZHVyYXRpb24iOjMyMS4yMDE2Mjk2Mzg2NzE5LCJzaWduZWRfdXJsIjoiaHR0cHM6Ly9zdG9yYWdlLmdvb2dsZWFwaXMuY29tL2F1ZGl0aW9uLXRvb2xraXQuYXBwc3BvdC5jb20vYXVkaXRpb24tYXBwLWZpbGVzLzNlOGFmMDdjLTZkNGEtNDQ4Yi05OTZlLTc5NGU5Y2IwODQ5Ni56aXA_WC1Hb29nLUFsZ29yaXRobT1HT09HNC1SU0EtU0hBMjU2JlgtR29vZy1DcmVkZW50aWFsPXN0b3JhZ2Utc2F2ZXIlNDBhdWRpdGlvbi10b29sa2l0LmlhbS5nc2VydmljZWFjY291bnQuY29tJTJGMjAyNTA3MDIlMkZhdXRvJTJGc3RvcmFnZSUyRmdvb2c0X3JlcXVlc3QmWC1Hb29nLURhdGU9MjAyNTA3MDJUMTQzNDEzWiZYLUdvb2ctRXhwaXJlcz05MDAmWC1Hb29nLVNpZ25lZEhlYWRlcnM9aG9zdCUzQngtZ29vZy1yZXN1bWFibGUmWC1Hb29nLVNpZ25hdHVyZT0wNWEzOTUxZDg4ZGRiYTRlMmM4NDBhZGFhY2YwOWU1MzJmNjYyZjI5YWMyMWRjZGFhM2VlN2JlM2Y1NzA2NTk4MWJiMTI4NmM2ODY5OGMyYjcxOWY5Y2I2YzczOWYwZjllODc4ZDc4ZTk2MDk2Y2RkYTkxNmUxN2QxYmU3NWIyZWY0NDcyM2JmN2IwYTFlMTBkOWU0MjA5ZjI2YmI2Y2Y5YjFiNjVmMjIwNDk0NjAxNzk0MWE3MzQxNDk3MjYwODIwMzNmYmY3NGE2OTg1ZjU3YTNiOTljODY3Y2UyMmQ3Y2I4YWQ2NjAxNmM3NDgyOTYzMmY0ZDQ3MWU0Yjg2ODlmNWVhNGRhZGVjN2FjYTNjNjAzZGFiODRmZjBhMmZkNzA2MTkwMGFkNDVhZjUzYWZiOWI2OGEwMWNjNjdhYTNmOWE3MDExYTVhN2Q4ZTgxZGI3Njk0YWFiMTExMGFjZmM5YTkxNTBiZWIyZDFlOGYwYTNiNWMxYzYyNzM1Mjc5MzI1ZGE3YTI2MThlZTgyYzMwOTVjNDJjMDU3YzRhY2E3YzllNDAxOWZjY2ExOGIzNzU2YzA4MjNlMTI3MmUzODk5OTE4ZDk0MTAyYzdlNjlkMTEyNzdmZjc2OTFiNWU4NWFhNGE2MWRjNzU5ZjZjODgwNmFiZjIzMmQ3NTczZWU1NiIsImlhdCI6MTc1MTQ2Njg1MywiZXhwIjoxNzUxNDc0MDUzfQ.s2FdWRN42NdryVIDxuo5pspETWpMiupOp5uS5xnfkkndSAUlM_rpPLiaXVQaEVGynV2NtYuxtop9iq33AGB_WV0NUyTwjHHmmVoaoiva2sbU9T5aImCxTjpS9qaoW8s3D0GruDpduCSbB0mMLXmqQV05WUeJKZCQvgIZR7j1liP2lmVgEO5T78B_RxBjb5hMHLdQi0a-nf10XTt-XEA-Q7SeXr4wG95LXqoGiEVvioSXkyKmILOrBTilNk0ijLS4Mmj5LaQAGRqB0v1maphHE14OPkhNJG2c5ZN57gywAbv9FhF83R9hkC8LKLVrzWX8FzAoZB6hCyMQdl1pq8EFCw and device token ckApPLmnS4iOYi0uc1O7Md:APA91bEvNVoUFmNjIOm35m2lcRSpDlW0tA-4xb-1LKKbEkPBmed-iqehdKgpH5q7OYbHK_CYZpjNjnS-m0JlKFUJ0k5WKtRA-HNR8KqgMiWsvDwE6e0dJhM"
    result = parse_jwt_header(fake_jwt)
    print(f"Parsed JWT Header: {result}")
    assert result == header


if __name__ == "__main__":
    test_parse_jwt_header()
    print("Test passed successfully.")